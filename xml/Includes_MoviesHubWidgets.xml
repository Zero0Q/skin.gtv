<?xml version="1.0" encoding="UTF-8"?>

<includes>

    <!-- Movie hub widgets -->
    <include name="MoviesHubWidgets">
        <!-- <control type="image">
            <top>0</top>
            <left>0</left>
            <height>2160</height>
            <width>3840</width>
            <texture background="true" colordiffuse="ff909090">general/screens/home2.png</texture>
        </control> -->


        <control type="group">
            <!-- <visible>String.IsEqual(Container(9000).ListItem.Property(defaultID),movies)</visible> -->
            <include content="FeatureWidgetInfo">
                <param name="WidgetGroupID" value="4100" />
                <param name="WidgetID" value="4101" />
            </include>
            
            <control type="grouplist" id="4100">
                <!-- Slide down 180 if submenu is not empty -->
                <!-- <animation effect="slide" end="0,180" time="0" condition="$EXP[subMenuNotEmpty]">Conditional</animation> -->
                <!-- Remove the 180 slide from above if main and sub menus lose focus and submenu is not empty -->
                <!-- <animation effect="slide" end="0,-180" time="200" condition="!Control.HasFocus(9000) + !Control.HasFocus(9001) + $EXP[subMenuNotEmpty]">Conditional</animation> -->
                
                <!-- Allow slide for upto 4 widget rows (first and last rows don't slide) -->
                <animation effect="slide" end="0,-1380" time="460" condition="Integer.IsGreater(Container(4100).Position,1) + Integer.IsGreater(Container(4100).NumItems,2)">Conditional</animation>
                <animation effect="slide" end="0,-600" time="200" condition="Integer.IsGreater(Container(4100).Position,2) + Integer.IsGreater(Container(4100).NumItems,3)">Conditional</animation>
                <visible>String.IsEqual(Container(9000).ListItem.Property(defaultID),movies)</visible>
                <include>ContentChangeAnimation</include>

                <left>0</left>
                <top>0</top>
                <height>10000</height>
                <right>0</right>
                <usecontrolcoords>true</usecontrolcoords>
                <itemgap>0</itemgap>


                <!-- Spacer to push widget rows down -->
                <control type="group">
                    <height>1326</height>
                </control>

                <!-- Recently added movies widget row 1-->
                <control type="group">
                    <visible>Integer.IsGreater(Container(4101).NumItems,0) | Container(4101).IsUpdating</visible>
                    <animation effect="fade" start="100" end="40" time="200" condition="Integer.IsGreater(Container(4100).Position,1)">Conditional</animation>
                    <animation effect="slide" end="0,-200" time="200" condition="Control.HasFocus(4102) | Control.HasFocus(4103) | Control.HasFocus(4104)">Conditional</animation>

                    <left>0</left>
                    <right>0</right>
                    <top>0</top>
                    <height>600</height>
                    <include content="HomeWidgetLandscape">
                        <param name="WidgetLabel" value="$INFO[Container(4100).NumItems]" />
                        <param name="ShowLabels" value="false" />
                        <param name="ParentID" value="4101" />
                        <param name="ListID" value="4101" />
                        <param name="Content" value="special://skin/extras/playlists/recently_added_episodes.xsp" />
                        <param name="ContentType" value="videos" />
                        <param name="OnBack" value="SetFocus(4101,0,absolute)" />
                        <param name="OnUp" value="9001" />
                        <param name="OnDown" value="4102" />
                        <param name="GroupHeight" value="600" />
                    </include>
                </control>

                <!-- Widget row 2-->
                <control type="group">
                    <visible>Integer.IsGreater(Container(4102).NumItems,0) | Container(4102).IsUpdating</visible>
                    <!-- <animation effect="fade" start="100" end="60" time="200" condition="[Integer.IsGreater(Container(4101).NumItems,0) + Integer.IsGreater(Container(4100).Position,2)] | 
                    [!Integer.IsGreater(Container(4101).NumItems,0) + Integer.IsGreater(Container(4100).Position,1)]">Conditional</animation> -->
                    <animation effect="slide" end="0,100" time="200" condition="Control.HasFocus(4101)">Conditional</animation>
                    <animation effect="slide" end="0,-200" time="200" condition="Control.HasFocus(4103) | Control.HasFocus(4104)">Conditional</animation>

                    <left>0</left>
                    <right>0</right>
                    <top>0</top>
                    <height>600</height>
                    <include content="HomeWidgetLandscape">
                        <param name="WidgetLabel" value="Widget 2" />
                        <param name="ParentID" value="4101" />
                        <param name="ListID" value="4102" />
                        <param name="Content" value="special://skin/extras/playlists/random_unwatched_shows.xsp" />
                        <param name="ContentType" value="videos" />
                        <param name="OnBack" value="SetFocus(4102,0,absolute)" />
                        <param name="OnUp" value="4101" />
                        <param name="OnDown" value="4103" />
                        <param name="GroupHeight" value="600" />
                    </include>
                </control>

                <!-- Widget row 3 -->
                <control type="group">
                    <visible>Integer.IsGreater(Container(4103).NumItems,0) | Container(4103).IsUpdating</visible>
                    <!-- <animation effect="fade" start="100" end="60" time="200" condition="[Integer.IsGreater(Container(4101).NumItems,0) + Integer.IsGreater(Container(4102).NumItems,0) + Integer.IsGreater(Container(4100).Position,3)] | 
                        [!Integer.IsGreater(Container(4101).NumItems,0) + !Integer.IsGreater(Container(4102).NumItems,0) + Integer.IsGreater(Container(4100).Position,1)] |
                        [!Integer.IsGreater(Container(4101).NumItems,0) + Integer.IsGreater(Container(4102).NumItems,0) + Integer.IsGreater(Container(4100).Position,2)] |
                        [Integer.IsGreater(Container(4101).NumItems,0) + !Integer.IsGreater(Container(4102).NumItems,0) + Integer.IsGreater(Container(4100).Position,2)]">Conditional</animation> -->
                    <animation effect="slide" end="0,200" time="200" condition="Control.HasFocus(4101) | Control.HasFocus(4102)">Conditional</animation>
                    <!-- <animation effect="slide" end="0,200" time="200" condition="Control.HasFocus(4102)">Conditional</animation> -->
                    <animation effect="slide" end="0,-200" time="200" condition="Control.HasFocus(4104)">Conditional</animation>

                    <left>0</left>
                    <right>0</right>
                    <top>0</top>
                    <height>600</height>
                    <include content="HomeWidgetLandscape">
                        <param name="WidgetLabel" value="Widget 3" />
                        <param name="ParentID" value="4101" />
                        <param name="ListID" value="4103" />
                        <param name="Content" value="special://skin/extras/playlists/random_unwatched_shows.xsp" />
                        <param name="ContentType" value="videos" />
                        <param name="OnBack" value="SetFocus(4103,0,absolute)" />
                        <param name="OnUp" value="4102" />
                        <param name="OnDown" value="4104" />
                        <param name="GroupHeight" value="600" />
                    </include>
                </control>

                <!-- Widget row 4-->
                <control type="group">
                    <visible>Integer.IsGreater(Container(4104).NumItems,0) | Container(4104).IsUpdating</visible>
                    <animation effect="slide" end="0,200" time="200" condition="Control.HasFocus(4101) | Control.HasFocus(4102) | Control.HasFocus(4103)">Conditional</animation>
                    <!-- <animation effect="slide" end="0,200" time="200" condition="Control.HasFocus(4102)">Conditional</animation> -->
                    <!-- <animation effect="slide" end="0,200" time="200" condition="Control.HasFocus(4103)">Conditional</animation> -->

                    <left>0</left>
                    <right>0</right>
                    <top>0</top>
                    <height>600</height>
                    <include content="HomeWidgetLandscape">
                        <param name="WidgetLabel" value="Widget 4" />
                        <param name="ParentID" value="4101" />
                        <param name="ListID" value="4104" />
                        <param name="Content" value="special://skin/extras/playlists/random_unwatched_shows.xsp" />
                        <param name="ContentType" value="videos" />
                        <param name="OnBack" value="SetFocus(4104,0,absolute)" />
                        <param name="OnUp" value="4103" />
                        <param name="OnDown" value="noop" />
                        <param name="GroupHeight" value="600" />
                    </include>
                </control>
            </control>

            <control type="image">
                <top>0</top>
                <left>0</left>
                <width>3840</width>
                <height>240</height>
                <texture background="true" diffuse="masks/WidgetTop.png" colordiffuse="50ffffff">general/Black.png</texture>
            </control>
        </control>
    </include>

</includes>
